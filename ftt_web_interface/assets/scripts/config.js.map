{"version":3,"file":"config.js","sources":["webpack:///config.js"],"sourcesContent":["!function(e){var t={};function s(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=e,s.c=t,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,\"a\",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p=\"assets/scripts/\",s(s.s=7)}([function(e,t,s){\"use strict\";s.d(t,\"a\",(function(){return n}));class n{static clearChildren(e){e.innerHTML=\"\"}static addOption(e,t,s=null){let n=document.createElement(\"option\");n.value=t,n.innerText=t,s&&n.classList.add(s),e.appendChild(n)}static removeFirstEmptyOption(e){\"\"===e.firstChild.value&&e.removeChild(e.firstChild)}static populateSelect(e,t,s=null){n.clearChildren(e),n.addOption(e,\"\");for(let r=0;r<t.length;r++)n.addOption(e,t[r],s&&s[r])}static addRow(e,t){const s=e.insertRow(0);for(const e of t){const t=s.insertCell(),n=document.createTextNode(e);t.appendChild(n)}}static populateTable(e,t){n.clearChildren(e);for(const s of t.reverse())n.addRow(e,s)}static addImage(e,t,s,...n){let r=document.createElement(\"img\");if(r.src=t,r.alt=s,n){if(n.length<2||n.length%2!=0)return e.appendChild(r),-1;for(let e=0;e<n.length;e+=2)r[n[e]]=n[e+1]}e.appendChild(r)}static createMaterialIcon(e){const t=document.createElement(\"i\");return t.className=\"material-icons\",t.textContent=e,t.style.alignSelf=\"center\",\"clear\"===e?t.style.color=\"red\":\"done\"===e&&(t.style.color=\"green\"),t}static createMaterialIconsContainer(e,...t){const s=document.createElement(e);return s.className=\"icon-container\",t.forEach(e=>{s.appendChild(n.createMaterialIcon(e))}),s}}},function(e,t,s){\"use strict\";s.d(t,\"a\",(function(){return n})),s.d(t,\"b\",(function(){return r}));class n{constructor(e,t,s){this.id=e,this.name=t,this.institution=s}}class r{constructor(e){this.serverInterface=e,this.paramNames=[\"id\",\"name\",\"institution\"]}async get(){return(await this.serverInterface.sendGetRequest(\"personnel\")).map(e=>new n(e[0],e[1],e[2]))}async post(e,t){const s={[this.paramNames[1]]:e,[this.paramNames[2]]:t};await this.serverInterface.sendPostRequest(\"personnel\",s)}async put(e,t,s){const n={[this.paramNames[0]]:e};Object.assign(n,t&&{[this.paramNames[1]]:t},s&&{[this.paramNames[2]]:s}),await this.serverInterface.sendPutRequest(\"personnel\",n)}async delete(e){await this.serverInterface.sendDeleteRequest(\"personnel\",\"id=\"+e)}}},function(e,t,s){\"use strict\";s.d(t,\"a\",(function(){return n}));class n{constructor(){this.server_adr=location.host}async sendHttpRequest(e,t,s){const n=await fetch(t,{method:e,body:JSON.stringify(s),headers:{\"Content-Type\":\"application/json\"}});if(n.status>=200&&n.status<300)return n.json();{const e=await n.json();throw console.log(e.message),new Error(\"Something went wrong!\")}}async sendGetRequest(e,t){const s=await this.sendHttpRequest(\"GET\",`http://${this.server_adr}/${e}${t?\"?\"+t:\"\"}`);if(s)return s;throw new Error(\"Empty HTTP response!\")}async sendPostRequest(e,t){const s=await this.sendHttpRequest(\"POST\",`http://${this.server_adr}/${e}`,t);if(s)return console.log(s),s;throw new Error(\"Invalid HTTP request\")}async sendPutRequest(e,t){const s=await this.sendHttpRequest(\"PUT\",`http://${this.server_adr}/${e}`,t);if(!s)throw new Error(\"Invalid HTTP request\");console.log(s)}async sendDeleteRequest(e,t){const s=await this.sendHttpRequest(\"DELETE\",`http://${this.server_adr}/${e}${t?\"?\"+t:\"\"}`);if(!s)throw new Error(\"Invalid HTTP request\");console.log(s)}}},function(e,t,s){\"use strict\";s.d(t,\"a\",(function(){return r}));class n{constructor(e,t){this.id=e,this.institution=t}}class r{constructor(e){this.serverInterface=e,this.paramNames=[\"id\",\"institution\"]}async get(){return(await this.serverInterface.sendGetRequest(\"performer\")).map(e=>new n(e[0],e[1]&&e[1].trim()))}async post(e){const t={[this.paramNames[1]]:e};await this.serverInterface.sendPostRequest(\"performer\",t)}async put(e,t){const s={[this.paramNames[0]]:e};Object.assign(s,t&&{[this.paramNames[1]]:t}),await this.serverInterface.sendPutRequest(\"performer\",s)}async delete(e){await this.serverInterface.sendDeleteRequest(\"performer\",\"id=\"+e)}}},function(e,t,s){\"use strict\";s.d(t,\"a\",(function(){return r}));class n{constructor(e,t,s,n,r,a){this.id=e,this.key=t,this.shortDescription=s,this.longDescription=n,this.institution=r,this.configuration=a}}class r{constructor(e){this.serverInterface=e,this.paramNames=[\"id\",\"key\",\"short_description\",\"long_description\",\"institution\",\"configuration\"]}async get(){return(await this.serverInterface.sendGetRequest(\"vehicle\")).map(e=>new n(e[0],e[1]&&e[1].trim(),e[2]&&e[2].trim(),e[3],e[4]&&e[4].trim(),e[5]))}async post(e,t,s,n,r){const a={[this.paramNames[1]]:e,[this.paramNames[2]]:t,[this.paramNames[3]]:s,[this.paramNames[4]]:n,[this.paramNames[5]]:r};await this.serverInterface.sendPostRequest(\"vehicle\",a)}async put(e,t,s,n,r,a){const i={[this.paramNames[0]]:e};Object.assign(i,t&&{[this.paramNames[1]]:t},s&&{[this.paramNames[2]]:s},n&&{[this.paramNames[3]]:n},r&&{[this.paramNames[4]]:r},a&&{[this.paramNames[5]]:a}),await this.serverInterface.sendPutRequest(\"vehicle\",i)}async delete(e){await this.serverInterface.sendDeleteRequest(\"vehicle\",\"id=\"+e)}}},function(e,t,s){\"use strict\";s.d(t,\"a\",(function(){return r}));class n{constructor(e,t,s,n){this.id=e,this.key=t,this.shortDescription=s,this.longDescription=n}}class r{constructor(e){this.serverInterface=e,this.paramNames=[\"id\",\"key\",\"short_description\",\"long_description\"]}async get(){return(await this.serverInterface.sendGetRequest(\"pose_source\")).map(e=>new n(e[0],e[1]&&e[1].trim(),e[2]&&e[2].trim(),e[3]))}async post(e,t,s){const n={[this.paramNames[1]]:e,[this.paramNames[2]]:t,[this.paramNames[3]]:s};await this.serverInterface.sendPostRequest(\"pose_source\",n)}async put(e,t,s,n){const r={[this.paramNames[0]]:e};Object.assign(r,t&&{[this.paramNames[1]]:t},s&&{[this.paramNames[2]]:s},n&&{[this.paramNames[3]]:n}),await this.serverInterface.sendPutRequest(\"pose_source\",r)}async delete(e){await this.serverInterface.sendDeleteRequest(\"pose_source\",\"id=\"+e)}}},,function(e,t,s){\"use strict\";s.r(t);var n=s(2),r=s(0),a=s(3),i=s(1),o=s(5),c=s(4);class l{constructor(e){this.titleHooks=[document.getElementById(\"performer\"),document.getElementById(\"personnel\"),document.getElementById(\"pose-source\"),document.getElementById(\"vehicle\")],this.newEntryHooks=[document.getElementById(\"performer-table-body\").lastElementChild,document.getElementById(\"personnel-table-body\").lastElementChild,document.getElementById(\"pose-source-table-body\").lastElementChild,document.getElementById(\"vehicle-table-body\").lastElementChild],this.dataInterfaces=[new a.a(e),new i.b(e),new o.a(e),new c.a(e)];for(let e=0;e<this.titleHooks.length;e++)this.titleHooks[e].addEventListener(\"click\",this.titleClickHandler.bind(this,this.dataInterfaces[e]));for(let e=0;e<this.newEntryHooks.length;e++)this.newEntryHooks[e].addEventListener(\"click\",this.inputNewEntryClickHandler.bind(this,this.dataInterfaces[e]));for(let e=0;e<this.newEntryHooks.length;e++)this.newEntryHooks[e].addEventListener(\"focusout\",this.newEntryDefocusHandler.bind(this))}static resetNewEntryRow(e){for(;e.children.length>1;)e.lastElementChild.remove();e.style.gridTemplateColumns=\"none\"}insertTableIcons(e,t){Array.from(e.children).forEach(e=>{const s=r.a.createMaterialIconsContainer(\"div\",\"edit\",\"clear\");s.firstElementChild.addEventListener(\"click\",this.editEntryClickHandler.bind(this,t)),s.lastElementChild.addEventListener(\"click\",this.clearEntryClickHandler.bind(this,t)),e.appendChild(s)})}async updateTable(e,t){const s=await e.get(),n=t.lastElementChild;r.a.populateTable(t,s.map(e=>Object.values(e))),this.insertTableIcons(t,e),t.appendChild(n)}async titleClickHandler(e,t){const s=t.target.closest(\"div\"),n=s.nextElementSibling;if(\"block\"==n.style.display)s.style.borderRadius=\"10px\",s.lastElementChild.textContent=\"add\",n.style.display=\"none\";else{const t=n.querySelector(\"tbody\");try{await this.updateTable(e,t),s.style.borderRadius=\"10px 10px 0 0\",s.lastElementChild.textContent=\"remove\",n.style.display=\"block\"}catch(e){alert(e.message)}}}async putEntryClickHandler(e,t){const s=t.target.closest(\"tr\");let n=[s.children[0].textContent];for(let t=1;t<e.paramNames.length;t++)n.push(s.children[t].value);try{await e.put(...n),await this.updateTable(e,s.closest(\"tbody\"))}catch(e){alert(e.message)}}async postEntryClickHandler(e,t){const s=t.target.closest(\"tr\");let n=[];for(let t=1;t<e.paramNames.length;t++)n.push(s.children[t].value);try{await e.post(...n),await this.updateTable(e,s.closest(\"tbody\")),l.resetNewEntryRow(s)}catch(e){alert(e.message)}}async editEntryDefocusHandler(e,t){const s=t.target.closest(\"tr\");if(!t.relatedTarget||t.relatedTarget.closest(\"tr\")!=s)try{await this.updateTable(e,s.closest(\"tbody\"))}catch(e){alert(e.message)}}async editEntryClickHandler(e,t){const s=t.target.closest(\"tr\");s.addEventListener(\"focusout\",this.editEntryDefocusHandler.bind(this,e));for(let t=1;t<e.paramNames.length;t++){const e=document.createElement(\"input\");e.type=\"text\",e.className=\"new-entry-input\",e.value=s.children[t].textContent,s.children[t].replaceWith(e)}const n=r.a.createMaterialIconsContainer(\"button\",\"done\");s.lastElementChild.replaceWith(n),n.addEventListener(\"click\",this.putEntryClickHandler.bind(this,e)),s.children[1].focus()}async clearEntryClickHandler(e,t){const s=t.target.closest(\"tr\"),n=s.firstElementChild.textContent;try{await e.delete(n),await this.updateTable(e,s.closest(\"tbody\"))}catch(e){alert(e.message)}}inputNewEntryClickHandler(e,t){const s=t.target.closest(\"tr\");if(s.style.gridTemplateColumns){s.style.removeProperty(\"grid-template-columns\");for(let t=1;t<e.paramNames.length;t++){const e=document.createElement(\"input\");e.type=\"text\",e.className=\"new-entry-input\",s.appendChild(e)}const t=r.a.createMaterialIconsContainer(\"button\",\"done\");s.appendChild(t),t.addEventListener(\"click\",this.postEntryClickHandler.bind(this,e)),s.children[1].focus()}}newEntryDefocusHandler(e){const t=e.target.closest(\"tr\");e.relatedTarget&&e.relatedTarget.closest(\"tr\")==t||l.resetNewEntryRow(t)}}(class{static init(){this.serverInterface=new n.a,this.configFrame=new l(this.serverInterface)}}).init()}]);"],"mappings":"AAAA","sourceRoot":""}